/* Estilos para SideTabs adaptados a VS Code */

body {
	font-family: var(--vscode-font-family);
	margin: 0;
	padding: 0;
	background: var(--vscode-sideBar-background);
	color: var(--vscode-foreground);
}

.tab {
	display: flex;
	align-items: center;
	padding: 8px 12px;
	border-bottom: 1px solid var(--vscode-sideBarSectionHeader-border);
	cursor: pointer;
	position: relative;
	user-select: none;
	min-height: var(--tab-height);
	box-sizing: border-box;
	z-index: 1;
	border-left: 3px solid transparent;
	transition: transform 0.2s ease-out;
	flex-wrap: wrap;
}

.tab.active {
	background: var(--vscode-list-activeSelectionBackground);
	color: var(--vscode-list-activeSelectionForeground);
	border-left: 3px solid var(--vscode-focusBorder);
}

.tab:hover:not(.active) {
	background: var(--vscode-list-hoverBackground);
}

.tab.contextmenu-active {
	background-color: var(--vscode-list-hoverBackground);
	outline: 1px solid var(--vscode-focusBorder);
}

.tab.closing {
	opacity: 0;
	transform: scaleY(0);
	height: 0;
	min-height: 0;
	padding: 0;
	border: none;
	overflow: hidden;
	transition: none !important;
}

.tab.dragging {
	opacity: 0.5;
	cursor: move;
}

/* Línea de inserción entre pestañas */
.drop-indicator {
	position: absolute;
	left: 0;
	right: 0;
	height: 2px;
	background-color: var(--vscode-focusBorder);
	pointer-events: none !important;
	z-index: 2;
	display: none;
}

.tab.drag-over-top .drop-indicator {
	display: block;
	top: -1px;
}

.tab.drag-over-bottom .drop-indicator {
	display: block;
	bottom: -1px;
}

.tab .icon-container {
	position: relative;
	margin-right: 8px;
	width: 16px;
	height: 16px;
	flex-shrink: 0;
}

.tab .icon {
	max-width: 100%;
	max-height: 100%;
	object-fit: contain;
}

.tab .label-container {
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	overflow: hidden;
	white-space: nowrap;
}

.tab .label {
	flex: 1;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	color: var(--vscode-sideBarTitle-foreground);
	font-size: var(--font-size);
}

.tab .directory {
	color: var(--vscode-editorLineNumber-foreground);
	font-size: var(--directory-font-size);
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.tab.active .directory {
	color: var(--vscode-editorLineNumber-foreground);
}

.tab .label.faded {
	color: var(--vscode-editorLineNumber-foreground);
}

.tab .label.error {
	color: var(--vscode-editorError-foreground, #f14c4c) !important;
}

.tab .label.warning {
	color: var(--vscode-editorWarning-foreground, #cca700) !important;
}

.tab .label.info {
	color: var(--vscode-editorInfo-foreground, #3794ff) !important;
}

.tab.active .label {
	color: var(--vscode-list-activeSelectionForeground);
}

.tab.active .label.error,
.tab.active .label.warning,
.tab.active .label.info {
	opacity: 1 !important;
}

.tab .problems {
	margin-left: 6px;
	font-weight: 500;
	font-size: var(--problems-font-size);
}

.tab.active .problems {
	color: var(--vscode-editorLineNumber-foreground);
}

.tab .tab-actions {
	margin-left: 8px;
	position: relative;
	width: 18px;
	height: 18px;
}

.tab .save-icon {
	display: flex;
	align-items: center;
	justify-content: center;
	position: absolute;
	top: 0;
	left: 0;
}

.tab .save-svg {
	stroke: var(--vscode-sideBarTitle-foreground);
	width: 18px;
	height: 18px;
}

.tab.active .save-svg {
	stroke: var(--vscode-list-activeSelectionForeground);
}

.tab .close {
	display: flex;
	cursor: pointer;
	padding: 0;
	border-radius: 3px;
	background: transparent;
	line-height: 1;
	vertical-align: middle;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	align-items: center;
	justify-content: center;
	opacity: 0;
}

.tab .close-svg {
	width: 18px;
	height: 18px;
	display: block;
	background: none;
	border: none;
	padding: 0;
	margin: 0;
	stroke: var(--vscode-sideBarTitle-foreground);
}

.tab.active .close-svg {
	stroke: var(--vscode-list-activeSelectionForeground);
}

/* Cambio instantáneo entre iconos sin transiciones */
.tab:hover .close {
	opacity: 1;
}

.tab:hover .save-icon {
	opacity: 0;
}

.tab .close:hover {
	background: var(--vscode-toolbar-hoverBackground);
}

.tab .close:hover .close-svg {
	stroke: var(--vscode-editor-foreground);
}

/* Nueva fila de diagnósticos - como la ruta */
.tab .diagnostics-row {
	width: 100%;
	font-size: var(--directory-font-size);
	overflow: hidden;
	text-overflow: ellipsis;
	z-index: 1;
	/* Valores iniciales para animación */
	transform: translateY(0);
	/* Asegurar que las transiciones son suaves */
	will-change: opacity, transform;
	align-items: center;
	color: var(--vscode-descriptionForeground);
}

/* Asegurar que la pestaña con diagnósticos se expanda lo necesario */
.tab.has-diagnostics {
	height: auto !important;
	min-height: var(--tab-height);
}

/* Hacer que el contenedor de etiquetas tenga más espacio para la fila de diagnósticos */
.tab.has-diagnostics .label-container {
	margin-bottom: 0;
}

/* Estilo para diagnósticos recién aparecidos - fade-in sutil */
.tab.diagnostics-highlight .diagnostics-row {
	animation: diagFadeIn 0.5s ease;
}

@keyframes diagFadeIn {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 0.8;
	}
}

.tab.active .diagnostics-row {
	color: var(--vscode-editorHoverWidget-foreground);
	border-top-color: var(--vscode-panel-border, rgba(128, 128, 128, 0.5));
}

.tab .diagnostics-row .diagnostics-item {
	display: inline-flex;
	align-items: center;
	margin-right: 6px;
	padding: 0;
	color: var(--vscode-descriptionForeground);
	font-size: var(--directory-font-size);
}

.tab .diagnostics-row .diagnostics-item svg {
	margin-right: 1px;
	opacity: 0.8;
	width: 10px !important;
	height: 10px !important;
}

.tab .diagnostics-row .diagnostics-item span {
	font-size: var(--directory-font-size);
}

.tab .diagnostics-row .diagnostics-lines {
	font-size: var(--directory-font-size);
	margin-top: 0;
	margin-left: auto;
	/* Empujar a la derecha */
	color: var(--vscode-descriptionForeground);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	opacity: 0.8;
}

/* Tooltip VS Code style */
.vscode-tooltip {
	background-color: var(--vscode-editorHoverWidget-background);
	color: var(--vscode-editorHoverWidget-foreground);
	border: 1px solid var(--vscode-editorHoverWidget-border);
	border-radius: 3px;
	padding: 6px 8px;
	font-size: var(--vscode-font-size);
	max-width: 300px;
	box-shadow: var(--vscode-widget-shadow);
	z-index: 1000;
	white-space: normal;
	line-height: 1.4;
	position: fixed;
	pointer-events: none;
	opacity: 0;
	visibility: hidden;
	transition: opacity 0.15s ease-out, transform 0.15s ease-out, visibility 0.15s;
	transform: translateY(4px);
	font-family: var(--vscode-font-family);
	overflow-wrap: break-word;
	word-break: normal;
}

.vscode-tooltip.visible {
	opacity: 1;
	visibility: visible;
	transform: translateY(0);
	transition: 600ms;
}

.vscode-tooltip.hiding {
	opacity: 0 !important;
	visibility: hidden !important;
	transition: none !important;
}

[data-tooltip-content] {
	position: relative;
}

[data-tooltip-content]:hover::after {
	content: none !important;
}

.file-icon {
	display: inline-block;
	vertical-align: middle;
	flex-shrink: 0;
	pointer-events: none;
}